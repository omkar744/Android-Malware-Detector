var MaterialsModule=function(e,a,l,r,n){"use strict";var t,o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function u(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;0<=l;l--)(o=e[l])&&(a=(i<3?o(a):3<i?o(t,r,a):o(t,r))||a);return 3<i&&a&&Object.defineProperty(t,r,a),a}(t=e.CullMode||(e.CullMode={}))["BACK"]="BACK",t["FRONT"]="FRONT";var s,c={BACK:0,FRONT:1},f={0:e.CullMode.BACK,1:e.CullMode.FRONT};(s=e.BlendMode||(e.BlendMode={}))["ADD"]="ADD",s["SUBTRACT"]="SUBTRACT",s["MULTIPLY"]="MULTIPLY",s["SCREEN"]="SCREEN",s["REPLACE"]="REPLACE",s["ALPHA"]="ALPHA",s["ASSOCIATIVE_ALPHA"]="ASSOCIATIVE_ALPHA";var p,d,m={ADD:0,SUBTRACT:1,MULTIPLY:2,SCREEN:3,REPLACE:4,ALPHA:5,ASSOCIATIVE_ALPHA:6},g={0:e.BlendMode.ADD,1:e.BlendMode.SUBTRACT,2:e.BlendMode.MULTIPLY,3:e.BlendMode.SCREEN,4:e.BlendMode.REPLACE,5:e.BlendMode.ALPHA,6:e.BlendMode.ASSOCIATIVE_ALPHA};(d=p=p||{})["L_I_N_E_A_R"]="L_I_N_E_A_R",d["S_R_G_B"]="S_R_G_B";p.L_I_N_E_A_R,p.S_R_G_B;var y=l.getNativeModule("Materials"),h="Pre/Post Processors are deprecated and are no longer supported.";function b(){return Promise.reject(h)}var P=(_.prototype.floatParameter=function(e){throw h},_.prototype.getFloatParameter=function(e){return b()},_.prototype.getFloatParameterOrFallback=function(e,t){return"number"==typeof t?l.getModule("Reactive").val(t):t},_.prototype.setFloatParameter=function(e,t){if(!l.version.hasChange(1592880538))throw h;return b()},_.prototype.boolParameter=function(e){throw h},_.prototype.getBoolParameter=function(e){return b()},_.prototype.getBoolParameterOrFallback=function(e,t){return"boolean"==typeof t?l.getModule("Reactive").val(t):t},_.prototype.setBoolParameter=function(e,t){if(!l.version.hasChange(1592880538))throw h;return b()},u([l.deprecatedAndRemovedBy(1592880538,3756104542,"Use `getFloatParameter(paramName: string)` instead!")],_.prototype,"floatParameter",null),u([l.introducedBy(1592880538)],_.prototype,"getFloatParameter",null),u([l.introducedBy(1592880538)],_.prototype,"getFloatParameterOrFallback",null),u([l.deprecatedAndRemovedBy(1592880538,3756104542,"Use `getBoolParameter(paramName: string)` instead!")],_.prototype,"boolParameter",null),u([l.introducedBy(1592880538)],_.prototype,"getBoolParameter",null),u([l.introducedBy(1592880538)],_.prototype,"getBoolParameterOrFallback",null),_=u([l.capability("shaders")],_));function _(){}var v=(T.prototype.equals=function(e){return this._ref.id.equals(e._ref.id)&&this._prop==e._prop},T.prototype.bind=function(e){if(!(e instanceof T))throw"Invalid argument, expected TextureTransformSignal";this.equals(e)||(this.offsetU=e.offsetU,this.offsetV=e.offsetV,this.scaleU=e.scaleU,this.scaleV=e.scaleV,this.rotation=e.rotation)},Object.defineProperty(T.prototype,"offsetU",{get:function(){return this._ref.getScalarSignal(this._prop+"/offsetU")},set:function(e){this._ref.setScalarProp(this._prop+"/offsetU",e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"offsetV",{get:function(){return this._ref.getScalarSignal(this._prop+"/offsetV")},set:function(e){this._ref.setScalarProp(this._prop+"/offsetV",e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"scaleU",{get:function(){return this._ref.getScalarSignal(this._prop+"/scaleU")},set:function(e){this._ref.setScalarProp(this._prop+"/scaleU",e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"scaleV",{get:function(){return this._ref.getScalarSignal(this._prop+"/scaleV")},set:function(e){this._ref.setScalarProp(this._prop+"/scaleV",e)},enumerable:!0,configurable:!0}),Object.defineProperty(T.prototype,"rotation",{get:function(){return this._ref.getScalarSignal(this._prop+"/rotation")},set:function(e){this._ref.setScalarProp(this._prop+"/rotation",e)},enumerable:!0,configurable:!0}),u([l.internal],T.prototype,"equals",null),u([l.internal],T.prototype,"bind",null),T);function T(e,t){this._ref=e,this._prop=t}var S=l.getNativeModule("Materials");function B(e,t,r){e.setStringProp(t,r)}function M(e,t){var r=e.getStringSync(t);return null==r?null:n.getTextureById(r)}function C(e,t){return e.getString(t).then(n.getTextureById)}function x(e,t){if(l.version.hasChange(3756104542))throw'Property "'+e+'" is write-only. Use "'+t+"() method instead.";l.deprecationLogger(1592880538,3756104542,"Material."+e+" API is deprecated. Use "+t+"() instead!").logOnce()}var I=(O.prototype.modelId=function(){return this._ref.id.value},O.prototype.getColorProp=function(e){return S.getColorProp(this.modelId(),e)},O.prototype.setColorProp=function(e,t){S.setColorProp(this.modelId(),e,t)},Object.defineProperty(O.prototype,"name",{get:function(){return this._ref.constants.name},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"identifier",{get:function(){return this._ref.constants.identifier},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"diffuse",{get:function(){return x("diffuse","getDiffuse"),M(this._ref,"diffuseTextureIdentifier")},set:function(e){B(this._ref,"diffuseTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),O.prototype.getDiffuse=function(){return C(this._ref,"diffuseTextureIdentifier")},Object.defineProperty(O.prototype,"diffuseTextureTransform",{get:function(){return new v(this._ref,"diffuseTextureTransform")},set:function(e){new v(this._ref,"diffuseTextureTransform").bind(e)},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"doubleSided",{get:function(){return this._ref.getBoolSignal("doubleSided")},set:function(e){this._ref.setBoolProp("doubleSided",e)},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"cullMode",{get:function(){return a.getCoreModule().mapScalarToString(this._ref.getScalarSignal("cullMode"),f,e.CullMode.BACK)},set:function(e){this._ref.setScalarProp("cullMode",a.getCoreModule().mapStringToScalar(e,c,0))},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"opacity",{get:function(){return this._ref.getScalarSignal("opacity")},set:function(e){this._ref.setScalarProp("opacity",e)},enumerable:!0,configurable:!0}),Object.defineProperty(O.prototype,"alphaCutoff",{get:function(){return this._ref.getScalarSignal("alphaTestThreshold")},set:function(e){this._ref.setScalarProp("alphaTestThreshold",e)},enumerable:!0,configurable:!0}),u([l.internal,l.nonenumerable],O.prototype,"_ref",void 0),u([l.internal],O.prototype,"modelId",null),u([l.internal],O.prototype,"getColorProp",null),u([l.internal],O.prototype,"setColorProp",null),u([l.introducedBy(1592880538)],O.prototype,"getDiffuse",null),u([l.introducedBy(1896904402)],O.prototype,"cullMode",null),O=u([l.extensible],O));function O(e){this._ref=e}var F=(Object.defineProperty(A.prototype,"diffuse",{get:function(){return x("diffuse","getDiffuse"),M(this._target._ref,"diffuseTextureIdentifier")},set:function(e){B(this._target._ref,"diffuseTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),u([l.nonenumerable],A.prototype,"_target",void 0),A=u([l.extension(I),l.removedBy(3756104542)],A));function A(e){this._target=e}var j=(Object.defineProperty(R.prototype,"diffuse",{set:function(e){B(this._target._ref,"diffuseTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),u([l.nonenumerable],R.prototype,"_target",void 0),R=u([l.extension(I),l.introducedBy(3756104542)],R));function R(e){this._target=e}var N,E=(i(w,N=I),w.className="BlendedMaterial",u([l.internal],w,"className",void 0),w);function w(e){return N.call(this,e)||this}var U,D=(i(L,U=I),L.prototype.getEmissive=function(){return C(this._ref,"emissiveTextureIdentifier")},Object.defineProperty(L.prototype,"emissiveTextureTransform",{get:function(){return new v(this._ref,"emissiveTextureTransform")},set:function(e){new v(this._ref,"emissiveTextureTransform").bind(e)},enumerable:!0,configurable:!0}),L.prototype.getNormal=function(){return C(this._ref,"normalTextureIdentifier")},L.prototype.setNormal=function(e){var t;return this._ref.setStringAsync("normalTextureIdentifier",null!=(t=null==e?void 0:e.identifier)?t:"")},Object.defineProperty(L.prototype,"normalTextureTransform",{get:function(){return new v(this._ref,"normalTextureTransform")},set:function(e){new v(this._ref,"normalTextureTransform").bind(e)},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"roughnessFactor",{get:function(){return this._ref.getScalarSignal("roughnessFactor")},set:function(e){this._ref.setScalarProp("roughnessFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"metallicFactor",{get:function(){return this._ref.getScalarSignal("metallicFactor")},set:function(e){this._ref.setScalarProp("metallicFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"baseColor",{set:function(e){B(this._ref,"baseColorTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),L.prototype.getBaseColor=function(){return C(this._ref,"baseColorTextureIdentifier")},Object.defineProperty(L.prototype,"baseColorTextureTransform",{get:function(){return new v(this._ref,"baseColorTextureTransform")},set:function(e){new v(this._ref,"baseColorTextureTransform").bind(e)},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"metallicRoughness",{set:function(e){B(this._ref,"metallicRoughnessTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),L.prototype.getMetallicRoughness=function(){return C(this._ref,"metallicRoughnessTextureIdentifier")},Object.defineProperty(L.prototype,"metallicRoughnessTextureTransform",{get:function(){return new v(this._ref,"metallicRoughnessTextureTransform")},set:function(e){new v(this._ref,"metallicRoughnessTextureTransform").bind(e)},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,"blendMode",{get:function(){return a.getCoreModule().mapScalarToString(this._ref.getScalarSignal("blendMode"),g,e.BlendMode.ADD)},set:function(e){this._ref.setScalarProp("blendMode",a.getCoreModule().mapStringToScalar(e,m,0))},enumerable:!0,configurable:!0}),L.className="MetallicRoughnessPbrMaterial",u([l.introducedBy(1592880538)],L.prototype,"getEmissive",null),u([l.introducedBy(3775027023)],L.prototype,"getNormal",null),u([l.introducedBy(3775027023)],L.prototype,"setNormal",null),u([l.introducedBy(3775027023)],L.prototype,"normalTextureTransform",null),u([l.introducedBy(1592880538)],L.prototype,"getBaseColor",null),u([l.introducedBy(1592880538)],L.prototype,"getMetallicRoughness",null),u([l.introducedBy(678537185)],L.prototype,"blendMode",null),u([l.internal],L,"className",void 0),L=u([l.extensible],L));function L(e){return U.call(this,e)||this}var k=(Object.defineProperty(V.prototype,"emissive",{get:function(){return x("emissive","getEmissive"),M(this._target._ref,"emissiveTextureIdentifier")},set:function(e){B(this._target._ref,"emissiveTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),u([l.nonenumerable],V.prototype,"_target",void 0),V=u([l.extension(D),l.removedBy(3756104542)],V));function V(e){this._target=e}var H=(Object.defineProperty(q.prototype,"emissive",{set:function(e){B(this._target._ref,"emissiveTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),u([l.nonenumerable],q.prototype,"_target",void 0),q=u([l.extension(D),l.introducedBy(3756104542)],q));function q(e){this._target=e}var W=(Object.defineProperty(Y.prototype,"baseColorFactor",{get:function(){return S.getColorProp(this.target.modelId(),"baseColorFactor")},set:function(e){S.setColorProp(this.target.modelId(),"baseColorFactor",e)},enumerable:!0,configurable:!0}),Y=u([l.extension(D),l.introducedBy(3666013859)],Y));function Y(e){this.target=e}var K=(Object.defineProperty(G.prototype,"baseColorFactor",{set:function(e){S.setColorProp(this.target.modelId(),"baseColorFactor",e)},enumerable:!0,configurable:!0}),G=u([l.extension(D),l.removedBy(3666013859)],G));function G(e){this.target=e}X.prototype.getDiffuseEnvironment=function(){return C(this._target._ref,"diffuseEnvironmentTextureIdentifier")},Object.defineProperty(X.prototype,"diffuseEnvironment",{set:function(e){B(this._target._ref,"diffuseEnvironmentTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),X.prototype.getSpecularEnvironment=function(){return C(this._target._ref,"specularEnvironmentTextureIdentifier")},Object.defineProperty(X.prototype,"specularEnvironment",{set:function(e){B(this._target._ref,"specularEnvironmentTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),Object.defineProperty(X.prototype,"staticEnvironmentRotation",{get:function(){var e="staticEnvironmentTextureRotation";return l.getModule("Reactive").point(this._target._ref.getScalarSignal(e+"/rotationX"),this._target._ref.getScalarSignal(e+"/rotationY"),this._target._ref.getScalarSignal(e+"/rotationZ"))},set:function(e){var t="staticEnvironmentTextureRotation",r=this._target._ref;r.setScalarProp(t+"/rotationX",e.x),r.setScalarProp(t+"/rotationY",e.y),r.setScalarProp(t+"/rotationZ",e.z)},enumerable:!0,configurable:!0}),u([l.nonenumerable],X.prototype,"_target",void 0),X=u([l.extension(D),l.capability("imageBasedLighting"),l.introducedBy(309897551)],X);function X(e){this._target=e}var Z,z=(i(J,Z=I),J);function J(e){return Z.call(this,e)||this}var Q,$=(i(ee,Q=I),ee.prototype.setParameter=function(e,t){S.setComposedMaterialParameter(this.modelId(),e,t)},ee.className="ComposedMaterial",u([l.introducedBy(2942585398)],ee.prototype,"setParameter",null),u([l.internal],ee,"className",void 0),ee);function ee(e){return Q.call(this,e)||this}var te,re=y,ne=(i(oe,te=I),oe.prototype.floatParameter=function(e){return y.getFloatParameterSync(this.modelId(),e)},oe.prototype.getFloatParameter=function(e){return l.eventSourceToPromise(y.getFloatParameter(this.modelId(),e))},oe.prototype.getFloatParameterOrFallback=function(e,t){return y.getFloatParameterOrFallback(this.modelId(),e,t)},oe.prototype.setFloatParameter=function(e,t){if(l.version.hasChange(1592880538))return l.eventSourceToPromise(y.setFloatParameter(this.modelId(),e,t));y.setFloatParameterSync(this.modelId(),e,t)},oe.prototype.boolParameter=function(e){return y.getBoolParameterSync(this.modelId(),e)},oe.prototype.getBoolParameter=function(e){return l.eventSourceToPromise(y.getBoolParameter(this.modelId(),e))},oe.prototype.getBoolParameterOrFallback=function(e,t){return y.getBoolParameterOrFallback(this.modelId(),e,t)},oe.prototype.setBoolParameter=function(e,t){if(l.version.hasChange(1592880538))return l.eventSourceToPromise(y.setBoolParameter(this.modelId(),e,t));y.setBoolParameterSync(this.modelId(),e,t)},oe.prototype.getAllParameters=function(){return l.eventSourceToPromise(y.getAllShaderParameters(this.modelId()))},oe.prototype.setParameters=function(e){return void 0===e&&(e={}),l.eventSourceToPromise(y.setShaderParameters(this.modelId(),e))},oe.prototype.getTexture=function(e){return l.eventSourceToPromise(re.getTextureParameter(this.modelId(),e)).then(n.getTextureById)},oe.prototype.setTexture=function(e,t){if(l.version.hasChange(1592880538))return l.eventSourceToPromise(re.setTextureParameter(this.modelId(),e,t.identifier));re.setTextureParameterSync(this.modelId(),e,t.identifier)},oe.className="CustomMaterial",u([l.deprecatedAndRemovedBy(1592880538,3756104542,"Use `getFloatParameter(paramName: string)` instead!")],oe.prototype,"floatParameter",null),u([l.introducedBy(1592880538)],oe.prototype,"getFloatParameter",null),u([l.introducedBy(1592880538)],oe.prototype,"getFloatParameterOrFallback",null),u([l.deprecatedAndRemovedBy(1592880538,3756104542,"Use `getBoolParameter(paramName: string)` instead!")],oe.prototype,"boolParameter",null),u([l.introducedBy(1592880538)],oe.prototype,"getBoolParameter",null),u([l.introducedBy(1592880538)],oe.prototype,"getBoolParameterOrFallback",null),u([l.introducedBy(1225681745)],oe.prototype,"getAllParameters",null),u([l.introducedBy(1225681745)],oe.prototype,"setParameters",null),u([l.introducedBy(1592880538)],oe.prototype,"getTexture",null),u([l.internal],oe,"className",void 0),oe);function oe(e){return te.call(this,e)||this}var ie,ae=(i(le,ie=I),le.prototype.getReflective=function(){return C(this._ref,"environmentTextureIdentifier")},Object.defineProperty(le.prototype,"reflectiveTextureTransform",{get:function(){return new v(this._ref,"environmentTextureTransform")},set:function(e){new v(this._ref,"environmentTextureTransform").bind(e)},enumerable:!0,configurable:!0}),le.prototype.getMultiply=function(){return C(this._ref,"multiplyTextureIdentifier")},Object.defineProperty(le.prototype,"multiplyTextureTransform",{get:function(){return new v(this._ref,"multiplyTextureTransform")},set:function(e){new v(this._ref,"multiplyTextureTransform").bind(e)},enumerable:!0,configurable:!0}),le.prototype.getEmissive=function(){return C(this._ref,"emissiveTextureIdentifier")},Object.defineProperty(le.prototype,"emissiveTextureTransform",{get:function(){return new v(this._ref,"emissiveTextureTransform")},set:function(e){new v(this._ref,"emissiveTextureTransform").bind(e)},enumerable:!0,configurable:!0}),Object.defineProperty(le.prototype,"blendMode",{get:function(){return a.getCoreModule().mapScalarToString(this._ref.getScalarSignal("blendMode"),g,e.BlendMode.ADD)},set:function(e){this._ref.setScalarProp("blendMode",a.getCoreModule().mapStringToScalar(e,m,0))},enumerable:!0,configurable:!0}),Object.defineProperty(le.prototype,"diffuseColorFactor",{get:function(){return this.getColorProp("shadingParams.diffuseFactor")},set:function(e){this.setColorProp("shadingParams.diffuseFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(le.prototype,"emmisiveColorFactor",{get:function(){return this.getColorProp("shadingParams.emissiveFactor")},set:function(e){this.setColorProp("shadingParams.emissiveFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(le.prototype,"ambientColorFactor",{get:function(){return this.getColorProp("shadingParams.ambientFactor")},set:function(e){this.setColorProp("shadingParams.ambientFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(le.prototype,"specularColorFactor",{get:function(){return this.getColorProp("shadingParams.specularFactor")},set:function(e){this.setColorProp("shadingParams.specularFactor",e)},enumerable:!0,configurable:!0}),le.className="DefaultMaterial",u([l.introducedBy(1592880538)],le.prototype,"getReflective",null),u([l.introducedBy(4024603055)],le.prototype,"reflectiveTextureTransform",null),u([l.introducedBy(1592880538)],le.prototype,"getMultiply",null),u([l.introducedBy(1592880538)],le.prototype,"getEmissive",null),u([l.introducedBy(678537185)],le.prototype,"blendMode",null),u([l.introducedBy(2115714083)],le.prototype,"diffuseColorFactor",null),u([l.introducedBy(2115714083)],le.prototype,"emmisiveColorFactor",null),u([l.introducedBy(2115714083)],le.prototype,"ambientColorFactor",null),u([l.introducedBy(2115714083)],le.prototype,"specularColorFactor",null),u([l.internal],le,"className",void 0),le=u([l.extensible],le));function le(e){return ie.call(this,e)||this}var ue=(Object.defineProperty(se.prototype,"multiply",{get:function(){return x("multiply","getMultiply"),M(this._target._ref,"multiplyTextureIdentifier")},set:function(e){B(this._target._ref,"multiplyTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"emissive",{get:function(){return x("emissive","getEmissive"),M(this._target._ref,"emissiveTextureIdentifier")},set:function(e){B(this._target._ref,"emissiveTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"reflective",{get:function(){return x("reflective","getReflective"),M(this._target._ref,"environmentTextureIdentifier")},set:function(e){B(this._target._ref,"environmentTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),u([l.nonenumerable],se.prototype,"_target",void 0),se=u([l.extension(ae),l.removedBy(3756104542)],se));function se(e){this._target=e}var ce=(Object.defineProperty(fe.prototype,"multiply",{set:function(e){B(this._target._ref,"multiplyTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),Object.defineProperty(fe.prototype,"emissive",{set:function(e){B(this._target._ref,"emissiveTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),Object.defineProperty(fe.prototype,"reflective",{set:function(e){B(this._target._ref,"environmentTextureIdentifier",e?e.identifier:"")},enumerable:!0,configurable:!0}),u([l.nonenumerable],fe.prototype,"_target",void 0),fe=u([l.extension(ae),l.introducedBy(3756104542)],fe));function fe(e){this._target=e}var pe,de=(i(me,pe=I),Object.defineProperty(me.prototype,"paintBrightness",{get:function(){return this._ref.getScalarSignal("paintBrightness")},set:function(e){this._ref.setScalarProp("paintBrightness",e)},enumerable:!0,configurable:!0}),Object.defineProperty(me.prototype,"backgroundInfluence",{get:function(){return this._ref.getScalarSignal("backgroundInfluence")},set:function(e){this._ref.setScalarProp("backgroundInfluence",e)},enumerable:!0,configurable:!0}),me.className="ColorPaintMaterial",u([l.internal],me,"className",void 0),me);function me(e){return pe.call(this,e)||this}var ge,ye=(i(he,ge=I),Object.defineProperty(he.prototype,"teethWhiteningFactor",{get:function(){return this._ref.getScalarSignal("teethWhiteningFactor")},set:function(e){this._ref.setScalarProp("teethWhiteningFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(he.prototype,"eyeBrighteningFactor",{get:function(){return this._ref.getScalarSignal("eyeBrighteningFactor")},set:function(e){this._ref.setScalarProp("eyeBrighteningFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(he.prototype,"skinSmoothingFactor",{get:function(){return this._ref.getScalarSignal("skinSmoothingFactor")},set:function(e){this._ref.setScalarProp("skinSmoothingFactor",e)},enumerable:!0,configurable:!0}),Object.defineProperty(he.prototype,"fullScreen",{get:function(){return this._ref.getBoolSignal("fullScreen")},set:function(e){this._ref.setBoolProp("fullScreen",e)},enumerable:!0,configurable:!0}),he.className="RetouchingMaterial",u([l.deprecatedAndRemovedBy(3168156187,2344798620,"")],he.prototype,"teethWhiteningFactor",null),u([l.deprecatedAndRemovedBy(3168156187,2344798620,"")],he.prototype,"eyeBrighteningFactor",null),u([l.internal],he,"className",void 0),he);function he(e){return ge.call(this,e)||this}var be=l.getNativeModule("Materials");function Pe(e){return e.replace(/\\/g,"\\\\").replace(/\*/g,"\\*")}var _e={blendedMaterial:E,blendShapeToWarpMapMaterial:z,colorPaintMaterial:de,composedMaterial:$,customMaterial:ne,defaultMaterial:ae,metallicRoughnessPbrMaterial:D,retouchingMaterial:ye},ve={};for(var Te in _e){var Se=_e[Te];Se.className&&(ve[Se.className]=Te)}function Be(e){var t=_e[e.kind];if(null==t)throw"unexpected material type: "+e.kind;return new t(e)}function Me(e,t){return a.model_search.findByName(new a.model.NodeId(r.materialsChildrenNodeId),e,!1,t).map(Be)}function Ce(e){var t=a.model_search.findByIdentifier(new a.model.NodeId(r.materialsChildrenNodeId),e,!1,1);return 0<t.length?t[0]:null}function xe(e,t){return Promise.resolve(Be(e)).then(function(e){return function(e,t){if(t)for(var r in"name"in t&&l.version.hasChange(506184874)&&delete t.name,t){if(null==l.utils.getPropertyDescriptor(e,r))throw new Error("Invalid property in initial state: "+r);e[r]=t[r]}return e}(e,t)}).then(function(t){return l.eventSourceToPromise(be.addMaterialRef(e.id.value)).then(function(e){return t})}).catch(function(t){return e.destroy().then(function(e){return Promise.reject(t)})})}var Ie=(Oe.prototype.resolveNewMaterialUniqueName=function(e){for(var t="dynamic"+e;;){if(0==Me(t+this._instantiationCounter,1).length){var r=t+this._instantiationCounter;return this._instantiationCounter++,r}this._instantiationCounter++}},Oe.prototype.get=function(e){var t=Me(Pe(e),1);if(0==t.length)throw new Error("No material found with name: "+e);return t[0]},Oe.prototype.findUsingPattern=function(e,t){return Promise.resolve(Me(e,null==t?void 0:t.limit))},Oe.prototype.getAll=function(){return this.findUsingPattern("*")},Oe.prototype.findFirst=function(e){return this.findUsingPattern(Pe(e),{limit:1}).then(function(e){return 0==e.length?null:e[0]})},Oe.prototype.create=function(n,t){var r,e=new Promise(function(e,t){var r=ve[n];null==r?t("Unsupported class name: "+n):e(r)});return l.version.hasChange(506184874)&&t&&"name"in t?r=t.name:l.version.hasChange(1276629687)&&(r=this.resolveNewMaterialUniqueName(n)),e.then(function(e){return a.model.graph.create(e,r)}).then(function(e){return xe(e,t)})},Oe.prototype.clone=function(e,n){var o="string"==typeof e?e:e.identifier,t=new Promise(function(e,t){var r=Ce(o);null==r?t("No material found for id: "+o):e(r)}),i=this;return t.then(function(r){var e=function(){var e;if(l.version.hasChange(506184874)&&n&&"name"in n)return n.name;if(l.version.hasChange(1276629687)){var t=_e[r.kind];if(null==t)throw"unexpected material type: "+r.kind;return i.resolveNewMaterialUniqueName(null!=(e=t.className)?e:"dynamicMaterial")}return null}();return a.model.graph.clone(r,e)}).then(function(e){return xe(e,n)})},Oe.prototype.destroy=function(e){return l.eventSourceToPromise("string"==typeof e?be.destroyById(e):be.destroyById(e.identifier))},Object.defineProperty(Oe.prototype,"preProcessor",{get:function(){return new P},enumerable:!0,configurable:!0}),Object.defineProperty(Oe.prototype,"postProcessor",{get:function(){return new P},enumerable:!0,configurable:!0}),u([l.introducedBy(678537185),l.enumAccessor],Oe.prototype,"BlendMode",void 0),u([l.introducedBy(1896904402),l.enumAccessor],Oe.prototype,"CullMode",void 0),u([l.nonenumerable],Oe.prototype,"_instantiationCounter",void 0),u([l.deprecatedAndRemovedBy(1592880538,3756104542,"Please use `Materials.getAll`, `Materials.findFirst` or `Materials.findUsingPattern`")],Oe.prototype,"get",null),u([l.introducedBy(370939672),l.capability("scriptingDynamicInstantiation")],Oe.prototype,"create",null),u([l.introducedBy(370939672),l.capability("scriptingDynamicInstantiation")],Oe.prototype,"clone",null),u([l.introducedBy(370939672),l.capability("scriptingDynamicInstantiation")],Oe.prototype,"destroy",null),u([l.deprecatedAndRemovedBy(4051429746,773185665,"`preProcessor` is deprecated and is no longer supported, please use Custom Materials instead"),l.capability("shaders")],Oe.prototype,"preProcessor",null),u([l.deprecatedAndRemovedBy(4051429746,773185665,"`postProcessor` is deprecated and is no longer supported, please use Custom Materials instead"),l.capability("shaders")],Oe.prototype,"postProcessor",null),Oe=u([l.scriptingModule("Materials"),l.documentScope(l.DocumentType.Any)],Oe));function Oe(){this.BlendMode=e.BlendMode,this.CullMode=e.CullMode,this._instantiationCounter=0}return e.BaseColorFactorExtension=W,e.BlendShapeToWarpMapMaterial=z,e.BlendedMaterial=E,e.ColorPaintMaterial=de,e.ComposedMaterial=$,e.CustomMaterial=ne,e.DefaultMaterial=ae,e.DefaultMaterialAsyncExtension=ce,e.DefaultMaterialSyncExtension=ue,e.LegacyBaseColorFactorExtension=K,e.MaterialBase=I,e.MaterialBaseAsyncExtension=j,e.MaterialBaseSyncExtension=F,e.MaterialsModule=Ie,e.MetallicRoughnessPbrMaterial=D,e.PbrMaterialAsyncExtension=H,e.PbrMaterialSyncExtension=k,e.RetouchingMaterial=ye,e.ShaderProcessor=P,e.TextureTransform=v,e.getMaterialById=function(e){var t=Ce(e);if(null==t)throw new Error('No material found with id: "'+e+'".');return Be(t)},e.getMaterialByIdFuture=function(n){return new Promise(function(e,t){var r=Ce(n);null==r?t('No material found with id: "'+n+'".'):e(Be(r))})},e}({},CoreModule,arfx,params,TexturesModule);