var PrefabsModule=function(e,n,t,r){"use strict";function o(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;0<=l;l--)(o=e[l])&&(a=(i<3?o(a):3<i?o(t,n,a):o(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a}var i;(i=e.State||(e.State={}))["PENDING"]="PENDING",i["FAILED"]="FAILED",i["AVAILABLE"]="AVAILABLE",i["DEFAULT"]="DEFAULT";var a={0:e.State.PENDING,1:e.State.FAILED,2:e.State.AVAILABLE,3:e.State.DEFAULT},l=(u.prototype.modelId=function(){return this._ref.id.value},Object.defineProperty(u.prototype,"name",{get:function(){return this._ref.constants.name},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"url",{get:function(){var e=this._ref.getStringSignal("descriptor/uri");return t.version.hasChange(1320537066)?e:e.pin()},set:function(e){this._ref.setStringProp("descriptor/uri",e)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"state",{get:function(){return this._ref.getBoolSignal("surfaceMismatch").ifThenElse(e.State.DEFAULT,n.getCoreModule().mapScalarToString(this._ref.getScalarSignal("lastState"),a,e.State.DEFAULT))},enumerable:!0,configurable:!0}),o([t.internal,t.nonenumerable],u.prototype,"_ref",void 0),o([t.internal,t.nonenumerable],u.prototype,"modelId",null),u=o([t.documentScope(t.DocumentType.Any)],u));function u(e){this._ref=e}function f(e){return e.replace(/\\/g,"\\\\").replace(/\*/g,"\\*")}function c(e){return new l(e)}function p(e,t){return n.model_search.findByName(new n.model.NodeId(r.prefabsChildrenNodeId),e,!1,t).map(c)}var d=(s.prototype.getAll=function(){return this.findUsingPattern("*")},s.prototype.findFirst=function(e){return this.findUsingPattern(f(e),{limit:1}).then(function(e){return 0==e.length?null:e[0]})},s.prototype.get=function(e){var t=p(f(e),1);if(0==t.length)throw new Error("Prefab not found: "+e);return t[0]},s.prototype.findUsingPattern=function(e,t){return Promise.resolve(p(e,null==t?void 0:t.limit))},s.prototype._getPrefabById=function(e){var t=n.model_search.findByIdentifier(new n.model.NodeId(r.prefabsChildrenNodeId),e,!1,1);return 1===t.length?c(t[0]):null},o([t.enumAccessor,t.capability("externalMeshes")],s.prototype,"State",void 0),o([t.deprecatedAndRemovedBy(1592880538,3756104542,"Please use `findUsingPattern`, `findFirst` or `getAll` instead")],s.prototype,"get",null),o([t.internal,t.nonenumerable],s.prototype,"_getPrefabById",null),s=o([t.scriptingModule("Prefabs"),t.capability("externalMeshes"),t.documentScope(t.DocumentType.Any)],s));function s(){this.State=e.State}return e.Prefab=l,e.PrefabsModule=d,e}({},CoreModule,arfx,params);